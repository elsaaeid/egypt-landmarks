<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
	<meta name="format-detection" content="telephone=no" />
	<link rel="stylesheet" type="text/css" href="../design.css"/>
	<title>krpano Documentation</title>
	<script>
		function toggle_mobile_nav(){var t=document,n=t.getElementById("krpano_contentnav"),m=t.getElementById("krpano_mobile_menu_bg");t=n.state!=2;n.state=t?2:1;n.style.height=t?"auto":"24px";m.style.display=t?"block":"none";t=t?"add":"remove";n.classList[t]("krpano_contentnav_opened");t+="EventListener";n[t]("click",toggle_mobile_nav,false);m[t]("mousedown",toggle_mobile_nav,false);}
	</script>
</head>
<body>
	<div id="krpano_root">
		<div id="krpano_headerwrapper">
			<div id="krpano_header">
				<div id="krpano_mainmenu">
					krpano 1.23.2 <span class="smallcomment">(build 2025-09-22)</span>
				</div>
			</div>
			<div id="krpano_imagebar"></div>
			
			<div id="krpano_logo_container">
				<a id="krpano_logo" href="https://krpano.com"><span>krpano.com</span></a>
			</div>
			
			<div id="krpano_imagebar_links">
				Documentation
			</div>
		</div>
		
		<div id="krpano_contentwrapper">
			<div id="krpano_mobile_menuicon" onclick="toggle_mobile_nav();"><span class="burgermenu"></span></div>
			<div id="krpano_mobile_menu_bg"></div>
			<div id="krpano_content">
				<div id="krpano_contentnav">
					
					<h2 class="sidemenu_title" onclick="toggle_section('doc_section');">Documentation</h2>
					<ul class="sidemenu_section hidden" id="doc_section">
						<li><a href="../embedpano.html#top">Embedding</a></li>
						<li><a href="../xml.html#top">XML Reference</a>
							<ul>
								<li class="lisd"><a href="../textfield.html#top">Textfield</a></li>
								<li class="lisd"><a href="scrollarea.html#top">ScrollArea</a></li>
							</ul>
						</li>
						<li><a href="../actions.html#top">Actions / Scripting</a></li>
						<li><a href="../js_api.html#top">Javascript Interface</a></li>
						<li><a href="../localusage.html#top">Local / Offline Usage</a></li>
						<li><a href="../coordinates.html#top">Coordinate Systems</a></li>
						<li><a href="../../license.html#top">License Agreement</a></li>
						<li><a href="../releasenotes.html#top">Release Notes</a></li>
					</ul>
					
					<h2 class="sidemenu_title" onclick="toggle_section('plugins_section');">Plugins</h2>
					<ul class="sidemenu_section " id="plugins_section">
						<li><a href="bingmaps.html#top">Bing Maps</a></li>
						<li><a href="googlemaps.html#top">Google Maps</a></li>
						<li><a href="gyro2.html#top">Gyro2</a></li>
						<li><a href="krpanomaps.html#top">krpano Maps</a></li>
						<li><a href="postprocessing.html#top">Postprocessing</a></li>
						<li><a href="radar.html#top">Radar</a></li>
						<li><a href="snow.html#top">Snow / Rain</a></li>
						<li><a href="soundinterface.html#top">Soundinterface</a></li>
						<li><a href="threejs.html#top">ThreeJS</a></li>
						<li><a href="videoplayer.html#top">Videoplayer</a></li>
						<li><a href="webvr.html#top">WebVR</a></li>
					</ul>
					
					<h2 class="sidemenu_title" onclick="toggle_section('xmlext_section');">XML Extensions</h2>
					<ul class="sidemenu_section hidden" id="xmlext_section">
						<li><a href="xml_extensions.html#controls3d">controls3d.xml</a></li>
						<li><a href="xml_extensions.html#cursor3d">cursor3d.xml</a></li>
						<li><a href="combobox.html#top">combobox.xml</a></li>
						<li><a href="xml_extensions.html#contextmenu">contextmenu.xml</a></li>
						<li><a href="xml_extensions.html#copy_to_clipboard">copy_to_clipboard.xml</a></li>
						<li><a href="xml_extensions.html#drag3d">drag3d.xml</a></li>
						<li><a href="xml_extensions.html#measure3d">measure3d.xml</a></li>
						<li><a href="xml_extensions.html#fps">fps.xml</a></li>
						<li><a href="xml_extensions.html#ios_iframe_fullscreen">ios_iframe_fullscreen.xml</a></li>
						<li><a href="xml_extensions.html#iphone_fullscreen_swipe">iphone_fullscreen_swipe.xml</a></li>
						<li><a href="xml_extensions.html#minimap_zoomrect">minimap_zoomrect.xml</a></li>
						<li><a href="showtext.html#top">showtext.xml</a></li>
						<li><a href="xml_extensions.html#stateurls">stateurls.xml</a></li>
						<li><a href="xml_extensions.html#vr_and_anaglyph_buttons">vr_and_anaglyph_buttons.xml</a></li>
						<li><a href="xml_extensions.html#wakelock">wakelock.xml</a></li>
						<li><a href="xml_extensions.html#webvr">webvr.xml</a></li>
						<li><a href="xml_extensions.html#webvr_autozoom">webvr_autozoom.xml</a></li>
					</ul>
					
					<h2 class="sidemenu_title" onclick="toggle_section('tools_section');">Tools</h2>
					<ul class="sidemenu_section hidden" id="tools_section">
						<li><a href="../tools/krpanotools.html#makepano">Makepano</a><br>
							<ul><li><a href="../tools/config.html#top">Config File Reference</a></li></ul>
						</li>
						<li><a href="../tools/krpanotools.html#maketiles">Maketiles</a></li>
						<li><a href="../tools/krpanotools.html#makepreview">Makepreview</a></li>
						<li><a href="../tools/krpanotools.html#spheretocube">SphereToCube</a></li>
						<li><a href="../tools/krpanotools.html#cubetosphere">CubeToSphere</a></li>
						<li><a href="../tools/krpanotools.html#protect">Protect Tool</a></li>
						<li><a href="../tools/krpanotools.html#encrypt">Encrypt Tool</a></li>
						<li><a href="../tools/krpanotools.html#register">Registration Tool</a></li>
						<li><a href="../tools/testingserver.html#top">krpano Testing Server</a></li>
					</ul>
					
					<h2 class="sidemenu_title" onclick="toggle_section('examples_section');">Examples</h2>
					<ul class="sidemenu_section hidden" id="examples_section">
						<li><a href="../examples.html#top">Show All</a></li>
						<li><a href="../examples.html?vtour#top">Virtual Tours</a></li>
						<li><a href="../examples.html?3d#top">3D Examples</a></li>
						<li><a href="../examples.html?splats#top">Gaussian Splatting</a></li>
						<li><a href="../examples.html?depthmap#top">Depthmap</a></li>
						<li><a href="../examples.html?threejs#top">ThreeJS</a></li>
						<li><a href="../examples.html?multires#top">Multiresolution</a></li>
						<li><a href="../examples.html?layers#top">Layers</a></li>
						<li><a href="../examples.html?plugins#top">Plugins</a></li>
						<li><a href="../examples.html?hotspots#top">Hotspots</a></li>
						<li><a href="../examples.html?maps#top">Maps</a></li>
						<li><a href="../examples.html?video#top">Video</a></li>
						<li><a href="../examples.html?webvr#top">WebVR</a></li>
						<li><a href="../examples.html?js#top">Javascript</a></li>
					</ul>
				</div>
				<a name="top" class="toplink">&nbsp;</a>
				<div id="krpano_contenttext">

					<noscript>
						<table style="width:100%; height:400px; position:fixed; left:95px; top:220px;"><tr valign="middle"><td><center><h1>
							<span style="color:#FFFFFF; background:#FF0000; padding:15px;">
								Javascript must be activated for this page!
							</span>
						</h1></center></td></tr></table>
					</noscript>
					
					<script>
						function toggle_section(id)
						{
							var element = document.getElementById(id);
							if (element)
							{
								element.classList.toggle("hidden")
							}
						}
					</script>

					
		<h1>Gyro 2 Plugin
			<span class="pluginfilename">gyro2.js</span> 
			
		</h1>
		
		<div class="paragraph">
			This plugin uses the gyroscope and acceleration sensors of a mobile or tablet device to control the 
			viewing / looking direction in krpano.<br>
			<br>
			<i>Note - in many newer browser versions the usage of HTTPS is a core requirement to get gyro-support from the browser.
			</i>
			
		</div>
		
		
		
		<div class="paragraph">
			<h2><a name="topics" href="#topics" class="selflink">Topics</a></h2>
			<ul>
				<li><a href="#syntax">Syntax</a></li>
				<li><a href="#krpanoapi">API Integration</a></li>
				<li><a href="#stateattributes">Plugin State Attributes</a></li>
				<li><a href="#events">Plugin Events</a></li>
				<li><a href="#actions">Plugin Actions</a></li>
				<li><a href="#iframe">iFrame Notes</a></li>
			</ul>
		</div>
		
		<div class="paragraph">
			<h2><a name="examples" href="#examples" class="selflink">Examples</a></h2>
			<table style="width:100%;">
			<tr>
			<td style="width:33%;"><div class="hlbox" style="padding:5px;margin-bottom:0;padding-bottom:2px;">
				<a href="../../viewer/examples/gyro/index.html" class="prop504x310"><img src="../images/gyro.jpg" class="outlineimage prop_inner" /></a>
				<div style="padding-top:3px;">Gyro Testing</div>
			</div></td>
			<td style="width:33%;"><div class="hlbox" style="padding:5px;margin-bottom:0;padding-bottom:2px;">
				<a href="../../viewer/examples/gyro/sensor_mode_comparison.html" class="prop504x310"><img src="../images/gyro.jpg" class="outlineimage prop_inner" /></a>
				<div style="padding-top:3px;">Sensor Comparison</div>
			</div></td>
			<td style="width:33%;"><div class="hlbox" style="padding:5px;margin-bottom:0;padding-bottom:2px;">
				<a href="../../viewer/examples/demotour-corfu/index.html" class="prop504x310"><img src="../images/demotour-corfu.jpg" class="outlineimage prop_inner" /></a>
				<div style="padding-top:3px;">A default Virtual Tour</div>
			</div></td>
			</tr>
			</table>
		</div>
	
		<div class="paragraph">
			<h2><a name="syntax" href="#syntax" class="selflink">Syntax</a></h2>
			<pre class="xmlpre">&lt;<a href="http://krpano.com/docu/xml/#plugin">plugin</a> <a href="http://krpano.com/docu/xml/#plugin.api">api</a>="gyro" <a href="http://krpano.com/docu/xml/#plugin.keep">keep</a>="true"
        <a href="http://krpano.com/docu/xml/#plugin.url">url</a>="<a href="../xml.html#urlplaceholders" class="selflink2">%VIEWER%</a>/plugins/gyro2.js" 
        <a href="#enabled" class="pluginattrib">enabled</a>="false"
        <a href="#camroll" class="pluginattrib">camroll</a>="true"
        <a href="#absolute" class="pluginattrib">absolute</a>="false"
        <a href="#north" class="pluginattrib">north</a>="0"
        <a href="#friction" class="pluginattrib">friction</a>="0.0"
        <a href="#touch_mode" class="pluginattrib">touch_mode</a>="full"
        <a href="#sensor" class="pluginattrib">sensor</a>="1"
        <a href="#sensor_mode" class="pluginattrib">sensor_mode</a>="1"
        <a href="#softstart" class="pluginattrib">softstart</a>="0.5"
        <a href="#autocalibration" class="pluginattrib">autocalibration</a>="false"
        <a href="#desktopsupport" class="pluginattrib">desktopsupport</a>="false"
        <a href="#onavailable" class="pluginattrib">onavailable</a>=""
        <a href="#onunavailable" class="pluginattrib">onunavailable</a>=""
        <a href="#onenable" class="pluginattrib">onenable</a>=""
        <a href="#ondisable" class="pluginattrib">ondisable</a>=""
        <a href="#ondenied" class="pluginattrib">ondenied</a>=""
        /&gt;</pre>
        
         <div>
        	<br>
			<a name="syntax.variables" href="#syntax.variables" class="selflink2">Dynamic or read-only layer / hotspot variables:</a>
			<ul>
				<li><a href="#isavailable">isavailable</a></li>
				<li><a href="#isenabled">isenabled</a></li>
			</ul>
		</div>
		
		<div>
        	<br>
			<a name="syntax.actions" href="#syntax.actions" class="selflink2">Actions / Functions:</a>
			<ul>
				<li><a href="#resetsensor">resetsensor(hlookat, vlookat*)</a></li>
			</ul>
		</div>
		
		</div>
		
		<div class="paragraph">
			<h2><a name="krpanoapi" href="#krpanoapi" class="selflink">krpano API Integration</a></h2>
			<ul>
				<li>After loading, the plugin object will be also available as global <span class="pre">gyro</span> variable.</li>
			</ul>
		</div>
			
		<div class="paragraph">
			<h2><a name="attributes" href="#attributes" class="selflink">Plugin Attributes</a></h2>
			
			<div style="padding-left:1px;padding-top:0;">
			<table class="xmlattrdoc">
		
				<tr class="xmlattrdocdes1"><td style="width:50%;"><a name="enabled"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#enabled" class="selflink">enabled</a></th><th>Boolean</th><th>false</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>
								Enable or disable the gyro plugin.
							</li>
							<li>
								Can by changed anytime - e.g. by using the <a href="../actions.html#set">set()</a> or <a href="../actions.html#switch">switch()</a> actions.
							</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="camroll"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#camroll" class="selflink">camroll</a></th><th>Boolean</th><th>true</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>
								Roll / level the viewer camera according to the device roll.
							</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="absolute"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#absolute" class="selflink">absolute</a></th><th>Boolean</th><th>false</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Use an absolute / real-world-oriented gyroscope tracking.</li>
							<li>By default the pano-image-center (<a href="../xml.html#view.hlookat">hlookat</a>=0.0) will point to North, but
								it is also possible to set a custom <a href="#north">north</a> position/offset.
							</li>
							<li>When disabled (the default), the gyroscope tracking will be relative to the current viewing direction.</li>
							<li>The device must have a magnetic sensor for this to work reliably. 
								iOS devices are typically working very well, on  Android it varies and depends on the device.
							</li>
							<li><i>Note - when using absolute tracking, all panos should be set/aligned to the same North. Otherwise
								the <a href="#north">north</a> setting would need to be adjusted dynamically for each pano.
								</i>
							</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="north"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#north" class="selflink">north</a></th><th>Number</th><th>0.0</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Define where North is located in the pano-image (from -180 to +180).</li>
							<li>The default is 0.0, which refers to the center of the pano-image.</li>
							<li>Note - this is only relevant when using using <a href="#absolute">absolute</a> gyroscope tracking.</li>
							<li>
								The coordinate system:
								<div style="display:inline-block;width:calc(100% - 4px);">
									<div style="position:relative;height:0;padding-bottom:50%;">
										<img src="../images/coordsystem.jpg" style="position:absolute;width:100%;height:100%;top:0px;left:0px;" />
									</div>
								</div>
							</li>
						</ul>
					</td>
				</tr>
				
				
				<tr class="xmlattrdocdesc"><td><a name="friction"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#friction" class="selflink">friction</a></th><th>String / Number</th><th>0.0</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>
								Friction / vibration dampening of the gyro movement.<br>
							</li>
							<li>
								Values: 0.0 - 0.99 or "auto"<br>
								<ul>
									<li>0.0 = no friction / dampening, 0.99 = very strong dampening<br>
										The higher the value the more dampening, but therefore also the movement will be delayed more.
									</li>
									<li><span class="presyntax_inline">auto</span> - use dynamically an automatic zoom friction value based on the current zoom/fov 
										and the current frame-rate based friction - e.g. more shake dampening when zooming in.
									</li>
								</ul>
							</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="touch_mode"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#touch_mode" class="selflink">touch_mode</a></th><th>String</th><th>"full"</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Available modes:
								<ul>
									<li><span class="presyntax_inline">off</span> - No touch control / panning.</li>
									<li><span class="presyntax_inline">horizontaloffset</span> - By touch dragging only the horizontal offset will change.</li>
									<li><span class="presyntax_inline">full</span> - Full touch control - pan horizontally and vertically. 
										The vertical offset will return slowly to the real device orientation when moving the device.
									</li>
									<li><span class="presyntax_inline">disablegyro</span> - When the user touches the screen, the gyro control 
										gets automatically disabled and the normal controls are taking over. To get the gyro control
										back, the gyro would need to get enabled again.
									</li>
								</ul>
							</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="sensor"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#sensor" class="selflink">sensor</a></th><th>int</th><th>1</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Define which browser event should be used for the device movement tracking:
								<ul>
									<li><span class="presyntax_inline">0</span> - the <a href="https://developer.mozilla.org/en-US/docs/Web/Events/deviceorientation" target="_blank">deviceorientation</a> event
										<ul>
											<li>Here the sensor fusion will be done by the browser itself.</li>
											<li>The data from this event is unfortunately buggy or just bad (slow, inaccurate, wrong) in many Android devices and Android browsers.</li> 
										</ul>
									</li>
									<li><span class="presyntax_inline">1</span> - the <a href="https://developer.mozilla.org/en-US/docs/Web/Events/devicemotion" target="_blank">devicemotion</a> event (default)
										<ul>
											<li>Here the sensor fusion will be done by krpano.</li>
											<li>The browser provides the raw data from the acceleration and the gyroscope sensors and krpano combines them for getting the final device rotation:
												<ul>
													<li>The gyroscope data is very quick and accurate but the gyroscope sensor measures only <u>relative</u> rotations and 
														therefore it drifts away from the real physical orientation over time. 
													</li>
													<li>To compensate that drift, the acceleration sensor is used. That sensor measures the gravity acceleration of the earth
														and that can be used as <u>absolute</u> reference.
													</li>
													<li>But the acceleration data is very noisy and it can be only used for detection 'tilt' rotations (tilt left, right, up or down) -
														rotations around the device itself can't detected by acceleration, for this the gyroscope data is required.
													</li>
													<li>So the data from both sensors will be combined / fused.
														The acceleration data will be low-pass filtered and used as slow 'stabilization' and
														the gyroscope data for quick and accurate movements in all directions.
													</li>
												</ul>
											</li>
										</ul>
									</li>
								</ul>
							</li>
							<li>Using the devicemotion event (setting sensor=1) is the default and there should be normally no need or benefit to use the deviceorientation event, 
								except maybe for some extreme browser bugs...
							</li>
							<li><i>Note - In iOS 13.4 / Safari 13.1 the devicemotion event <a href="https://krpano.com/ios/bugs/ios13-4-b1-gyro/">is broken</a>.
								Therefore on these systems the default value of <a href="#sensor" class="selflink">sensor</a> 
								is set to 0 
								to use the deviceorientation event (which is working) instead.
							</i>
						</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="sensor_mode"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#sensor_mode" class="selflink">sensor_mode</a></th><th>int</th><th>1</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>The frame-rendering and the 'sensor-data-events' are happening in different time intervals / rates
								(depending on the system and browser),
								so it is necessary to evaluate and interpolate/extrapolate the sensor data somehow to get
								a smooth and also fast and responsive movement.
							</li>
							<li>With this setting, different modes for this process can be selected.
							</li>
							<li>Available modes:
								<ul>
									<li><span class="presyntax_inline">0</span> = Directly use the latest available sensor data.
										No interpolation or extrapolation. Depending on the sensor-time-intervals of the browser
										the movement can be either jerky or smooth.
									</li>
									<li><span class="presyntax_inline">1</span> = Smoothly interpolate between the latest
										available sensor data. This will give a very smooth but slightly delayed movement.
									</li>
									<li><span class="presyntax_inline">2</span> = Forecast the device rotations and then interpolate between the sensor data.
									</li>
									<li><span class="presyntax_inline">3</span> = Extrapolate the latest available sensor data
										to the current frame time.
										This will give a fast responsive and smooth movement, but there can be a jerking
										when the extrapolated/predicted data and the real movement don't match.
									</li>
									<li><span class="presyntax_inline">4</span> = Forecast the device rotation to the current frame time.
										This will give a fast responsive and smooth movement, but there can be a jerking
										when the extrapolated/predicted data and the real movement don't match.
									</li>
									<li><span class="presyntax_inline">5</span> = Forecast the device rotation and extrapolate the
										sensor data from the latest event to the current frame time.
									</li>
								</ul>
							</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="softstart"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#softstart" class="selflink">softstart</a></th><th>Number</th><th>0.5</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>When enabling the gyro tracking fade slowy from the current viewing direction to the gyro-tracked viewing direction.</li>
							<li>The <a href="#softstart" class="selflink">softstart</a> setting defines the number of seconds for this 'fade-in' process.</li>
							<li>Set this setting to 0 to disable it to instantly use the gyro-tracked values.</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="autocalibration"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#autocalibration" class="selflink">autocalibration</a></th><th>Boolean</th><th>false</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Enable an automatic gyroscope calibration.</li>
							<li>Some devices have uncalibrated sensors and there this automatic calibration can help to avoid an unintended gyroscope movement / drifting.</li>
							<li>The automatic self-calibration will be done every time when the device will be hold very still, e.g. either by holding the device very steady or by laying the device on a stable table.</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="desktopsupport"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#desktopsupport" class="selflink">desktopsupport</a></th><th>Boolean</th><th>false</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Enable the gyroscope support also for desktop devices (e.g. Windows Tablet-PCs).</li>
							<li>By default the gyroscope support is only available for mobile and tablet devices.</li>
							<li><i class="redtext">This settings should be not enabled by default!
								Desktop browsers might wrongly report that they have gyroscope support even when there is no gryoscope sensor available!</i>
							</li>
						</ul>
					</td>
				</tr>
				
				
				
			</table>
			</div>
		</div>
		
		
		<div class="paragraph">
			<h2><a name="stateattributes" href="#stateattributes" class="selflink">Plugin State Attributes (read only)</a></h2>
			
			<div style="padding-left:1px;padding-top:0;">
			<table class="xmlattrdoc">
		
				<tr class="xmlattrdocdes1"><td style="width:50%;"><a name="isavailable"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#isavailable" class="selflink">isavailable</a></th><th>Boolean</th><th>false</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Is gyroscope support available?</li>
							<li>This variable will be first set to its correct value after the <a href="#onavailable">onavailable</a>
								or <a href="#onunavailable">onunavailable</a> event.
							</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td style="width:50%;"><a name="isenabled"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#isenabled" class="selflink">isenabled</a></th><th>Boolean</th><th>false</th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>Is the gyroscope currently actually enabled?</li>
						</ul>
					</td>
				</tr>
				
			</table>
			</div>
		</div>
		
		<div class="paragraph">
			<h2><a name="events" href="#events" class="selflink">Plugin Events</a></h2>
			
			<div style="padding-left:1px;padding-top:0;">
			<table class="xmlattrdoc">
		
				<tr class="xmlattrdocdes1"><td style="width:50%;"><a name="onavailable"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#onavailable" class="selflink">onavailable</a></th><th>Action Event</th><th></th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>This event will be called when gyroscope support is available.</li>
							<li>Could be used to show a 'Gyro' button.</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="onunavailable"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#onunavailable" class="selflink">onunavailable</a></th><th>Action Event</th><th></th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>This event will be called when no gyroscope support is available on the current device / browser.</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="onenable"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#onenable" class="selflink">onenable</a></th><th>Action Event</th><th></th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>This event will be called when gyroscope gets enabled.</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="ondisable"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#ondisable" class="selflink">ondisable</a></th><th>Action Event</th><th></th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>This event will be called when gyroscope gets disabled.</li>
						</ul>
					</td>
				</tr>
				
				<tr class="xmlattrdocdesc"><td><a name="ondenied"></a>Attribute name</td><td>Type</td><td>Default value</td></tr>
				<tr><th><a href="#ondenied" class="selflink">ondenied</a></th><th>Action Event</th><th></th></tr>
				<tr>
					<td colspan="4">
						<ul>
							<li>This event will be called when using the gyroscope failed.
							The reason for failing could be that the user didn't allow the usage.</li>
						</ul>
					</td>
				</tr>
				
			</table>
			</div>
			
			<br>
			<br>
			<a name="krpanoevents"></a>
			Additionally to the direct plugin events, the plugin also dispatches these <a href="../xml.html#events">krpano events</a>:
			<pre class="xmlpre">
&lt;events <a href="#onavailable" class="pluginattrib">gyro_onavailable</a>=""
        <a href="#onunavailable" class="pluginattrib">gyro_onunavailable</a>=""
        <a href="#onenable" class="pluginattrib">gyro_onenable</a>=""
        <a href="#ondisable" class="pluginattrib">gyro_ondisable</a>=""
        <a href="#ondenied" class="pluginattrib">gyro_ondenied</a>=""
        /&gt;</pre>
	</div>
		
		
		<div class="paragraph">
			<h2><a name="actions" href="#actions" class="selflink">Plugin Actions</a></h2>
			
			<a name="resetsensor" href="#resetsensor" class="selflink"><pre>resetsensor(hlookat, vlookat*)</pre></a>
			<div class="preinfo">
				<ul>
					<li>Reset the sensor tracking to look to the given <a href="../xml.html#view.hlookat">hlookat</a> (horizontal looking) direction.</li>
					<li>When using <a href="#touch_mode">touch_mode=full</a>, it's optionally also possible to set the <a href="../xml.html#view.vlookat">vlookat</a> (vertical looking) direction.</li>
				</ul>
			</div>
		</div>
		
		
		<div class="paragraph">
			<h2><a name="iframe" href="#iframe" class="selflink">iFrame Notes</a></h2>
			
			<div class="subparagraph">	
				When using the gyro inside an 'cross-origin' iframe (that means the outer page and inner iframe 
				page are on different origins/domains) then the gyro-usage might be blocked by the browser.<br>
				<br>
				To work-around that limitation, it is possible to 'capture' the devicemotion event in the outer page
				and send it via the postMessage API to the inner iframe.
			</div>

			Here example Javascript code for the outer (the iframe-containing) webpage:
			<pre class="xmlpre" style="word-break:normal; white-space:nowrap;">
&lt;script&gt;<br>
var pano_iframe_name = "enter_here_the_id_of_your_iframe_element";<br>
window.addEventListener("devicemotion", function(e){ var iframe = document.getElementById(pano_iframe_name); if (iframe) iframe.contentWindow.postMessage({ type:"devicemotion", deviceMotionEvent:{ acceleration:{ x:e.acceleration.x, y:e.acceleration.y, z:e.acceleration.z }, accelerationIncludingGravity:{ x:e.accelerationIncludingGravity.x, y:e.accelerationIncludingGravity.y, z:e.accelerationIncludingGravity.z }, rotationRate:{ alpha:e.rotationRate.alpha, beta:e.rotationRate.beta, gamma:e.rotationRate.gamma }, interval:e.interval, timeStamp:e.timeStamp } }, "*"); });<br>
&lt;/script&gt;
</pre>
		</div>
		




				</div>
			</div>
		</div>
		<div id="krpano_footerwrapper">
			<div id="krpano_footer">
				<table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="right">Copyright &copy; 2025 krpano.com</td></tr></tbody></table>
			</div>
		</div>
	</div>
</body>
</html>
